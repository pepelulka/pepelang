# pepelang

Небольшой интерпретируемый функциональный язык программирования, написанный на F#.
Примеры программ - в папке examples, краткая документация - ниже.

## Сборка

Весь проект написан на платформе .NET версии .NET 6.0. 
Для сборки проекта необходимо:
1. Установить .NET SDK с поддержкой версии .NET 6.0.
2. Собрать проект либо в Visual Studio, открыв файл ppl/ppl.sln, либо через CLI, прописав в директории ppl команду `dotnet build`.

## Запуск

Для запуска программы, на языке `pepelang` необходимо запустить собранный бинарник и прописать первым аргументом командной строки 
путь к файлу с исходным кодом:

Пример:
```
bin\Debug\net6.0\ppl.exe ../examples/helloworld.ppl
```

# Документация

Далее - краткое введение в язык.

## Структура программы.

Программы на языке состоят из списка выражений, которые вычисляются по одному по очереди. Каждое выражение заканчивается символом `;`. Программа должна содержать хотя бы
одно выражение. Программа на языке записывается в одном исходном файле с расширением `.ppl`. Программы могут вызывать программы из других файлов с помощью конструкции `import`.
Пример:
```
import some-name;
```
Данная конструкция сначала ищет в стандартном наборе библиотек, есть ли библиотека под названием "some-name", и если нет, то ищет файл с названием "some-name.ppl" в папке с файлом, в котором
был написана конструкция. Если такой файл существует, программа из него выполняется и всё окружение в исполненной программе, передается в текущую. Можно считать, что когда мы
вызываем конструкцию import, он просто выполняет программу из другого файла внутри нашей.

## Применение операторов и функций.

Язык pepelang - функциональный, поэтому программы в основном состоят из применения различных функций. Общий синтаксис применения функции выглядит так:
```
{<func-name> <arg1> <arg2> ... <argn>};
```
Пример:
```
{square 2};    // 4
{sum 3 5};     // 8
```

В языке так же есть операторы - это те же функции, но с особыми именами - их имена могут состоять только из символов из набора `"+-=*&|!></~"`
Пример:
```
{+ 5 6};       // 11
```

## Конструкция let и let-in

Для определения переменных, функций и операторов используется конструкция `let` и `let-in`.
Синтаксис Let выглядит так:
```
let <name> <arg1> <arg2> ... <argn> = <expr>;
```
Без аргументов конструкция `let` просто присваивает имени `name` результат выражения `expr`.
При указании аргументов, выражение автоматически оборачивается в функцию от указанных аргументов, то есть к примеру запись
```
let twice x = {+ x x};
```
объявляет функцию `twice`, которая прибавляет то, что ей подали к самому себе.
Стоит отметить, что все функции и операторы, объявленные таким способом являются каррированными, то есть запись
```
let sum x y = {+ x y};
```
создает функцию sum, которая является функцией от одного аргумента, возвращающая функцию от одного аргумента, которая в свою очередь
уже считает сумму двух чисел.
Таким же образом можно объявить оператор - для этого надо использовать в имени оператора только особые символы.
После того, как мы прописали конструкцию `let`, она создает именованную переменную, которая будет жить всё оставшееся время программы. Когда нам
необходимо создать временную переменную или функцию, стоит использовать конструкцию `let-in`. Вот ее общий вид:
```
let <name> <arg1> <arg2> ... <argn> = <expr1> in <expr2>;
```
Работает так же как и `let`, но создает лишь временную переменную, вычисляет с ее помощью значение `expr2` и удаляет переменную `name` из окружения.

## Базовые типы

В языке есть следующие базовые типы данных:
1. int - знаковое 32-битное целое число. 
```
12;
-14;
```
2. string - строка
```
"Hello world!";
```
3. bool - булевые тип
```
true;
false;
```
4. none - тип с одним значением None
```
None;
```
5. float - вещественный тип данных
```
1.64;
0.23;
13.;
.43;
```
6. tuple - кортеж из других(любых) выражений
```
(1, 2);
(1.023, "Meow");
((2, 3), (1, 2, 3, (1.02, 13) ), None);
```
